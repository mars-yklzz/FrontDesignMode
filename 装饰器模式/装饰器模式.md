## 装饰器模式
1. 什么是装饰器模式
2. 装饰器模式的实现
3. 装饰器模式在框架中的应用
4. 装饰器模式的优缺点
5. 装饰器模式的适用场景

### 什么是装饰器模式
> 装饰器模式又称装饰者模式, 它的定义是"在不改变原有对象的基础上没,对其包装拓展,使其具有更多的功能,从而满足用户更复杂的需求"
特点
1. 装饰器不影响原有的功能,原有功能照常使用
2. 装饰器可以增加多个,共同给目标对象添加额外功能

### 装饰器模式的使用场景
1. (1)给浏览器事件添加新功能
```js
    window.onload = function () {
            console.log(11111)
        }

        // 发送买点信息
        function sendUserOperation() {
            console.log('222222')
        }

        // window.onload = function (params) {
        //     var orginOnload = window.onload
        //     return function () {
        //         orginOnload && orginOnload()
        //         sendUserOperation()
        //     }
        // }()

        // 封装工具方法

        function originDecorateFn(originObj, originKey, fn) {
            originObj[originKey] = function () {
                var originFn = originObj[originKey]
                return function () {
                    originFn && originFn()
                    fn()
                }
            }()
        }

        // 添加装饰功能
        originDecorateFn(window, 'onload', sendUserOperation)
```

### 装饰器模式的优缺点 
优点
- 可维护性高: 我们经常使用继承的方式来实现功能的扩展,但这样会给系统中带来很多子类和复杂的继承关系,装饰器模式允许用户在不引起子类熟练暴增的前提下动态的装饰对象,添加功能,装饰器和被装饰者间松耦合,可维护性好
- 灵活性好: 被装饰器可以使用装饰器动态的增加和撤销功能,可以在运行时选择不同的装饰器,实现不同的功能,灵活性好
- 复用性高: 装饰器模式把一系列复杂的功能分散到每个装饰器中,一般一个装饰器只实现一个功能,可以给一个对象增加多个同样的装饰器,也可以把一个装饰器来装饰不同的对象,有利于装饰器的复用
- 多样性: 可以通过选择不同的装饰器组合,创造不同的行为和功能的结合体,原有对象的代码无须改变, 就可以使得原有对象的功能变得更强大和更多样化,符合开闭原则

缺点
- 使用装饰器模式时会产生很多细粒度的装饰器对象,这些装饰对象由于接口和功能的多样化导致系统的复杂度增加,功能越复杂,需要的细粒度对象越多
- 由于更大的灵活性,也就更容易出错,特别对于多级装饰的场景

### 装饰器模式的使用场景
- 如果不希望系统中增加很多子类,那么可以考虑使用装饰器模式
- 需要通过对现有的一组功能进行排列组合而产生更多功能时,采用继承关系很难实现,这是采用装饰器模式,可以很好实现
- 当对象的功能要求可以动态的添加,也可以动态的撤销,可以考虑使用装饰器模式